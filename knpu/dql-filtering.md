# DQL Filtering

The last cool thing about the list view and search view is all about sorting and DQL filtering. So obviously, as you probably noticed, when you click one of the genuses, it automatically sorts by ID, but the cool thing is you can sort by any field out of the box. Then when you go back to genuses, it filters by ID. So obviously, that's something that we can change. And you can probably almost guess how. We're going to go under genus, we're gonna go under list, and then we're going to add sort name. So that is the new default way to sort things.

Easy enough. You can actually get a little fancier with this. For example, genus notes. Let's say that we actually want to sort by the genuses name, which is a related entity. You can do that. Again, under genus note, under list, we'll say sort, and this time we'll actually control the direction as well, we'll stay genus.name and we'll sort ascending. So we want to basically sort by the genus property.name, so it's property and we'll sort ascending. So if we go back to the genus note section, now you can see it's sorting by that field, which is pretty freaking cool. That only works one level deep, genus.name, you can't reach across multiple entities.

Now of course, bundle tries to allow you to sort by every field, user avatar probably doesn't make sense, so you can also disable it on a field by field basis. So at the end, we can go to our configuration and say sort of all false. All right. Easy enough. Let's talk about DQL filtering. Now first thing is, so far, it looks like you're limited to one entity section per entity. But that's actually not true. For example, I'm going to create a new section down here called genus hoard. You see, we're going to set it's class to an app bundle/entity/genus, same as above. You see, some of the scientists are worried about some of the genuses becoming too large, and posing a threat to humanity. So they want a new genus hoard section where they can keep track of all the genuses that have a lot of species in them. It's scary stuff, so we'll add a label of hoard of genuses. Then we'll add a scary icon, which by the way, you can do on a Mac by holding control command space bar and we'll add our scary guy right there.

So that has nothing to do with filtering, it's just a cool thing you can do. All of a sudden, we have a new section called hoard of genuses, which is actually a list of genuses. Of course, this is still showing everything not very scary, so we want to filter this, only show some genuses. So now we can start customizing the list view just for this section. I'll say list, we use a new option call DQL filter, which is pretty awesome. In here, we're going to pretend like we're building a query in doctrine, and we can say things like entity.species count is greater than or equal to 50,000. The rule obviously inside this is that you're alias for your entity will always be called entity. Then we refresh our ten results go to about seven results. Cool.

And just have a DQ opp, you can get more complicated than this. We can also say and entity.is published equals true. And now things are truly scary. It's really focused, we'll start by species count and we'll add help message, run for your life. And we need a couple more scary icons, I think down here. Perfect. So our seven options are now going to go a little lower to just these three options, with the most species counts that are published. Whew. As mentioned earlier, search shares a lot of things from list, so if we search for eo right now, you actually see it matches two of those three entities. Because it is actually inheriting the DQL filter from list. If you want to change that, like for example, we want to show also published entities when we're searching, that's fine. Go under list, set the DQL filter, and we'll just do the same DQL filter without the species count part, or is is published part, refresh and we got five.

